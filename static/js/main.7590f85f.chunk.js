(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{46:function(e,t,i){"use strict";i.r(t);var s=i(2),n=i.n(s),a=i(18),c=i.n(a),o=i(21),r=i(9),l=i.n(r),m=i(19),d=i(3),u=i(4),j=i(6),h=i(5),v=(i(8),i(0)),b=function(){return Object(v.jsx)("section",{className:"nav-bar",children:Object(v.jsx)("div",{className:"hero-body",children:Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("h1",{id:"name",className:"title",children:"The Shoppies:"}),Object(v.jsx)("h1",{id:"slogan",className:"title",children:"Movie awards for entrepreneurs"})]})})})},O=function(e){Object(j.a)(i,e);var t=Object(h.a)(i);function i(){var e;Object(d.a)(this,i);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).state={term:""},e.onInputChange=function(t){e.setState({term:t.target.value})},e.onFormSubmit=function(t){t.preventDefault(),e.props.onFormSubmit(e.state.term)},e}return Object(u.a)(i,[{key:"render",value:function(){return Object(v.jsx)("div",{className:"search-bar ui segment",children:Object(v.jsx)("form",{onSubmit:this.onFormSubmit,className:"ui form",children:Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)("h4",{children:"Movie Title"}),Object(v.jsxs)("div",{className:"ui icon input",children:[Object(v.jsx)("input",{placeholder:"Search movies...",className:"prompt",type:"text",value:this.state.term,onChange:this.onInputChange}),Object(v.jsx)("i",{class:"search icon"})]})]})})})}}]),i}(n.a.Component),x=function(e){var t=e.movie,i=e.onMovieSelect;return Object(v.jsxs)("div",{className:"movie-item item",children:[Object(v.jsx)("img",{alt:"movie poster",className:"ui image",src:t.Poster}),Object(v.jsx)("div",{className:"content",children:Object(v.jsxs)("div",{className:"movie-search-result",children:[t.Title," (",t.Year,")"]})}),Object(v.jsx)("div",{className:"right floated content",children:Object(v.jsx)("button",{className:"tiny ui button",onClick:function(e){return i(t,e)},children:"Nominate"})})]})},N=function(e){var t=e.movies,i=e.onMovieSelect;if(!t)return Object(v.jsx)("div",{children:"Please make sure your search contains a minimum of 3 letters"});var s=t.map((function(e){return Object(v.jsx)(x,{onMovieSelect:i,movie:e},e.imdbID)}));return Object(v.jsx)("div",{className:"ui celled animated list",children:s})},p=function(e){var t=e.nominatedMovie,i=e.onNominationRemove;return Object(v.jsxs)("div",{className:"movie-item item",children:[Object(v.jsx)("img",{alt:"movie poster",className:"ui image",src:t.Poster}),Object(v.jsx)("div",{className:"content",children:Object(v.jsxs)("div",{className:"header",children:[t.Title," (",t.Year,")"]})}),Object(v.jsx)("div",{className:"right floated content",children:Object(v.jsx)("button",{className:"tiny ui button",onClick:function(){return i(t)},children:"Remove"})})]})},f=function(e){var t=e.movies,i=e.onNominationRemove;if(0===t.length)return Object(v.jsxs)("h2",{style:{color:"#343a40",marginTop:"-5px"},className:"ui small header",children:[Object(v.jsx)("i",{className:"plus large icon"}),Object(v.jsx)("div",{className:"content",children:"Add a movie to your list"})]});var s=t.map((function(e){return Object(v.jsx)(p,{nominatedMovie:e,onNominationRemove:i},e.imdbID)}));return Object(v.jsx)("div",{className:"ui celled animated list",children:s})},g=i(20),S=i.n(g).a.create({baseURL:"https://www.omdbapi.com/",params:{apikey:"a6e7e0d8"}}),y=function(e){Object(j.a)(i,e);var t=Object(h.a)(i);function i(){var e;Object(d.a)(this,i);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).state={movies:[],selectedMovies:[],search:"",limit:!1},e.onTermSubmit=function(){var t=Object(m.a)(l.a.mark((function t(i){var s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.get("/",{params:{s:i,type:"movie"}});case 2:s=t.sent,e.setState({search:i}),e.setState({movies:s.data.Search});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onMovieSelect=function(t,i){e.state.selectedMovies.length<5?(e.setState({selectedMovies:[].concat(Object(o.a)(e.state.selectedMovies),[t])}),i.currentTarget.classList.add(t.imdbID),document.getElementsByClassName(t.imdbID)[0].setAttribute("disabled","true")):e.setState({limit:!0})},e.onNominationRemove=function(t){var i=e.state.selectedMovies.filter((function(e){return t!==e}));e.setState({selectedMovies:i,limit:!1}),document.getElementsByClassName(t.imdbID)[0].removeAttribute("disabled")},e.remainingNominations=function(){return 5-e.state.selectedMovies.length},e}return Object(u.a)(i,[{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)(b,{}),Object(v.jsxs)("div",{className:"ui container",children:[Object(v.jsx)(O,{onFormSubmit:this.onTermSubmit}),this.state.limit?Object(v.jsxs)("div",{className:"ui warning message",children:[Object(v.jsx)("div",{className:"header",children:"You can nominate a maximum of 5 movies"}),"Remove some movies from your nomination list, then try again"]}):"",Object(v.jsx)("div",{className:"ui grid",children:Object(v.jsxs)("div",{className:"ui row",children:[Object(v.jsx)("div",{className:"eight wide column",children:Object(v.jsxs)("div",{className:"ui segment",children:[Object(v.jsx)("h4",{children:void 0===this.state.movies?"":'Results for "'.concat(this.state.search,'"')}),Object(v.jsx)(N,{onMovieSelect:this.onMovieSelect,selectedMovies:this.state.selectedMovies,disabledButton:this.state.disabledButton,movies:this.state.movies})]})}),Object(v.jsx)("div",{className:"eight wide column",children:Object(v.jsxs)("div",{className:"ui segment",children:[Object(v.jsxs)("div",{className:"nomination-bar",children:[Object(v.jsx)("h4",{children:"Nomination List"}),Object(v.jsxs)("button",{style:{border:"1.5px solid"},className:0===this.remainingNominations()?"ui basic red button":"ui basic black button",children:[this.remainingNominations()," remaining nominations"]})]}),Object(v.jsx)(f,{onNominationRemove:this.onNominationRemove,movies:this.state.selectedMovies})]})})]})})]})]})}}]),i}(n.a.Component);c.a.render(Object(v.jsx)(y,{}),document.querySelector("#root"))},8:function(e,t,i){}},[[46,1,2]]]);
//# sourceMappingURL=main.7590f85f.chunk.js.map